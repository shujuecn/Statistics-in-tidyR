# Tue Sep 19 18:20:20 2023 ------------------------------
library(tibble)
library(dplyr)

df = tibble(
  `编号` = 1:1000,
  `收入层次` = rep(c("高收入", "中收入", "低收入"), c(200, 600, 200))
)
df

# 查看数据分布情况
df %>%
  group_by(收入层次) %>%
  summarise(n = n())

# 1.按比例分层抽样 ------------------------------

df %>%
  group_by(`收入层次`) %>%
  sample_frac(0.1)

# 2.按数量分层抽样 ------------------------------

df %>%
  group_by(`收入层次`) %>%
  sample_n(20) # 各层数量一致
